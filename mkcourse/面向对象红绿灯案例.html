<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="box"></div>
    <script>
        var box = document.getElementById('box');
        // 创建红绿灯类
        function TrafficLight(){
            this.color = 1;
            this.init();
            this.bindEvent();
        }
        TrafficLight.prototype.init = function(){
            // 创建自己的DOM
            this.dom = document.createElement('img');
            this.dom.src = './trafficlight_images/'+this.color+'.jpg';
            box.appendChild(this.dom);
        };
        // 绑定监听
        TrafficLight.prototype.bindEvent = function(){
            // 备份上下文
            var self = this;
            self.dom.onclick = function(){
                self.changeColor();
                // console.log(12);
            }
        };
        // 改变颜色
        TrafficLight.prototype.changeColor = function(){
            this.color ++;
            if(this.color == 4)
                this.color = 1;
            this.dom.src = './trafficlight_images/'+this.color+'.jpg';
        };
        var t1 = new TrafficLight();
        var i = 10;
        while(i>=0){
            new TrafficLight();
            i--;
        }
        console.log(t1);
    </script>
</body>
</html>